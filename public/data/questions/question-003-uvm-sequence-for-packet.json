{
  "id": "question-003",
  "title": "Write a UVM sequence and sequence_item for a packet (addr,data,len)",
  "difficulty": "hard",
  "tags": ["uvm", "systemverilog", "sequences"],
  "description": "Design a UVM packet generator that randomly (but sensibly) throws packets at the DUT — addr, data, len — while avoiding illegal addresses. Show the sequence_item and a sequence that issues randomized packets to a sequencer.",
  "examples": [
    {
      "input": "class pkt extends uvm_sequence_item; rand bit [31:0] data; rand bit [7:0] addr; rand bit [3:0] len; constraint legal_addr { addr inside {[8'h10:8'hEF]}; } endclass",
      "output": "A randomized packet can be generated with 'pkt p = pkt::type_id::create(\"p\"); assert(p.randomize());'",
      "explanation": "This demonstrates sequence item structure and randomization."
    }
  ],
  "constraints": "Avoid overly complex cross-field constraints for performance.",
  "hints": [
    "Use pre_randomize/post_randomize hooks to implement derived fields.",
    "Use uvm_sequence::start() on the driver sequencer."
  ],
  "solution": {
    "language": "systemverilog",
    "code": "class pkt extends uvm_sequence_item; rand bit [31:0] data; rand bit [7:0] addr; rand bit [3:0] len; constraint legal_addr {addr inside {[8'h10:8'hEF]};} `uvm_object_utils(pkt) endclass\nclass pkt_seq extends uvm_sequence #(pkt);\n  `uvm_object_utils(pkt_seq)\n  virtual task body();\n    pkt p;\n    foreach (int i in {0:9}) begin\n      p = pkt::type_id::create($sformatf(\"p_%0d\", i));\n      assert(p.randomize());\n      start_item(p);\n      finish_item(p);\n    end\n  endtask\nendclass"
  },
  "acceptance_rate": 0.0,
  "submissions": 0,
  "topics": ["uvm", "sequences", "randomization"],
  "slug": "uvm-sequence-for-packet",
  "createdAt": "2026-01-30T00:00:00Z",
  "updatedAt": "2026-01-30T00:00:00Z"
}
