{
  "id": "question-005",
  "title": "Constrained-random verification: write constraints avoiding illegal packets and improving performance",
  "difficulty": "medium",
  "tags": ["systemverilog", "randomization", "constraints"],
  "description": "Write constraints to avoid illegal addresses and zero-data, and explain steps to keep randomization performant (avoid heavy cross-solve, use pre_randomize/post_randomize).",
  "examples": [
    {
      "input": "class pkt; rand bit [7:0] addr; rand bit [31:0] data; constraint legal {addr inside {[8'h10:8'hEF]};} constraint nonzero {data != 32'h0;} endclass",
      "output": "Randomization only produces legal addresses and non-zero data; performance remains reasonable if constraints are simple.",
      "explanation": "Simple range constraints are solver-friendly; complex cross constraints can slow randomize()."
    }
  ],
  "constraints": "Avoid complex solutions that require enumerating large tables; prefer ranges and implications.",
  "hints": [
    "Use exclude 'solve' heavy expressions.",
    "Use 'soft' constraints if you need prioritized relaxation."
  ],
  "solution": {
    "language": "systemverilog",
    "code": "class pkt; rand bit [7:0] addr; rand bit [31:0] data;\n  constraint legal_addr { addr inside {[8'h10:8'hEF]}; }\n  constraint not_zero_data { data != 32'h0; }\n  function void pre_randomize(); if (/* derived fields */) ; endfunction\nendclass"
  },
  "acceptance_rate": 0.0,
  "submissions": 0,
  "topics": ["randomization", "constraints", "verification"],
  "slug": "constrained-random-best-practices",
  "createdAt": "2026-01-30T00:00:00Z",
  "updatedAt": "2026-01-30T00:00:00Z"
}
